inputs_def:
  - handle: source_epub
    description: "%path-to-the-source-epub-file-to-translate%"
    json_schema:
      type: string
      ui:widget: file
      ui:options:
        filters:
          - name: EPUB
            extensions:
              - epub
        excludeAll: true
    nullable: false

  - handle: target_language
    description: "%target-language-for-translation%"
    json_schema:
      type: string
      enum:
        - English
        - Chinese
        - Spanish
        - French
        - German
        - Japanese
        - Korean
        - Portuguese
        - Russian
        - Italian
        - Arabic
        - Hindi
    value: Chinese
    nullable: false

  - handle: submit_mode
    description: "%translation-output-mode-append-or-replace%"
    json_schema:
      type: string
      enum:
        - APPEND_BLOCK
        - REPLACE
      ui:options:
        labels:
          - Append
          - Replace
    value: APPEND_BLOCK
    nullable: false

  - group: Advanced Options
    collapsed: false

  - handle: concurrency
    description: "%number-of-concurrent-translation-processes-1-10%"
    json_schema:
      type: integer
      minimum: 1
      maximum: 8
    value: 4
    nullable: false

  - handle: max_group_tokens
    json_schema:
      type: integer
      minimum: 350
    nullable: false
    value: 2600

  - handle: translated_path
    description: "%path-where-the-translated-epub-will-be-saved-defaults-to-session%"
    json_schema:
      type: string
      ui:widget: save
      ui:options:
        filters:
          - name: EPUB
            extensions:
              - epub
        excludeAll: true
    value:
    nullable: true

  - handle: custom_prompt
    description: "%custom-translation-instructions-optional%"
    json_schema:
      type: string
      ui:widget: text
    value:
    nullable: true
  - handle: llm
    description: "%llm-model-configuration-for-translation%"
    json_schema:
      ui:widget: llm::model
      ui:options:
        title: Model
    value:
      model: deepseek-chat
      temperature: 0.8
      top_p: 0.6
      max_tokens: 8100
    nullable: false

outputs_def:
  - handle: translated_path
    description: "%path-to-the-translated-epub-file%"
    json_schema:
      type: string
      ui:widget: save
      ui:options:
        filters:
          - extensions:
              - epub
            name: EPUB
        excludeAll: true

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

version: 0.1.9
title: "%epub-translator%"
icon: ":carbon:translate:"
description: "%translate-epub-files-to-different-languages-using-llm-preserving%"
ui:
  default_width: 572.71484375
