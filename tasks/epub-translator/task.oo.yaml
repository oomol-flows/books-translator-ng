inputs_def:
  - handle: source_epub
    description: "%path-to-the-source-epub-file-to-translate%"
    json_schema:
      type: string
      ui:widget: file
      ui:options:
        filters:
          - name: EPUB
            extensions:
              - epub
    nullable: false

  - handle: target_language
    description: "%target-language-for-translation%"
    json_schema:
      type: string
      enum:
        - English
        - Chinese
        - Spanish
        - French
        - German
        - Japanese
        - Korean
        - Portuguese
        - Russian
        - Italian
        - Arabic
        - Hindi
    value: Chinese
    nullable: false

  - handle: submit_mode
    description: "%translation-submission-mode-bilingual-or-single-language%"
    json_schema:
      type: string
      enum:
        - APPEND_BLOCK
        - REPLACE
        - APPEND_TEXT
    value: APPEND_BLOCK
    nullable: false

  - handle: output_path
    description: "%path-where-the-translated-epub-will-be-saved-defaults-to-session%"
    json_schema:
      type: string
      ui:widget: save
      ui:options:
        filters:
          - name: EPUB
            extensions:
              - epub
        excludeAll: true
    value:
    nullable: true

  - handle: llm
    description: "%llm-model-configuration-for-translation%"
    json_schema:
      ui:widget: llm::model
      ui:options:
        title: Model
    value:
      model: oomol-chat
      temperature: 0.5
      top_p: 1
      max_tokens: 200000
    nullable: false

  - group: Advanced Options
    collapsed: true

  - handle: custom_prompt
    description: "%custom-translation-instructions-optional%"
    json_schema:
      type: string
      ui:widget: text
    value:
    nullable: true

  - handle: max_group_tokens
    description: "%maximum-tokens-per-translation-batch%"
    json_schema:
      type: integer
      minimum: 100
      maximum: 4000
    value:
    nullable: true

  - handle: max_retries
    description: "%maximum-number-of-retries-for-failed-translations%"
    json_schema:
      type: integer
      minimum: 1
      maximum: 10
    value:
    nullable: true

  - handle: timeout
    description: "LLM API timeout in seconds"
    json_schema:
      type: number
      minimum: 10
      maximum: 600
    value:
    nullable: true

  - handle: temperature
    description: "LLM temperature for controlling randomness (0.0-2.0)"
    json_schema:
      type: number
      minimum: 0
      maximum: 2
    value:
    nullable: true

  - handle: top_p
    description: "LLM top_p for nucleus sampling (0.0-1.0)"
    json_schema:
      type: number
      minimum: 0
      maximum: 1
    value:
    nullable: true

  - handle: retry_times
    description: "Number of retry attempts for failed LLM calls"
    json_schema:
      type: integer
      minimum: 1
      maximum: 20
    value:
    nullable: true

  - handle: retry_interval_seconds
    description: "Interval between retries in seconds"
    json_schema:
      type: number
      minimum: 0.1
      maximum: 30
    value:
    nullable: true

outputs_def:
  - handle: translated_file
    description: "%path-to-the-translated-epub-file%"
    json_schema:
      type: string
      ui:widget: file

  - handle: success
    description: "%whether-the-translation-was-successful%"
    json_schema:
      type: boolean

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

version: 0.1.9
title: "%epub-translator%"
icon: ":carbon:translate:"
description: "%translate-epub-files-to-different-languages-using-llm-preserving%"
